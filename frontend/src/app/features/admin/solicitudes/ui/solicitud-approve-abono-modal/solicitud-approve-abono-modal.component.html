<nz-modal
  [nzVisible]="visible"
  nzTitle="Aprobar abono"
  (nzOnCancel)="onCancel()"
>
  <ng-container *nzModalContent>
    <form nz-form [formGroup]="form" class="modal-form">
    <div class="modal-grid">
      <nz-form-item>
        <nz-form-label [nzRequired]="true">ID estudiante</nz-form-label>
        <nz-form-control>
          <input nz-input formControlName="idEstudiante">
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label [nzRequired]="true">Monto a aprobar</nz-form-label>
        <nz-form-control nzErrorTip="Campo obligatorio">
          <input nz-input type="number" formControlName="abono" placeholder="0.00">
        </nz-form-control>
      </nz-form-item>
    </div>

    <div class="saldo-info">
      <span>Saldo pendiente actual</span>
      <strong>
        @if (isLoadingSaldo) {
          Cargando...
        } @else {
          {{ saldoPendiente ?? 0 | number: '1.2-2' }}
        }
      </strong>
    </div>
    </form>
  </ng-container>

  <ng-container *nzModalFooter>
    <div class="modal-footer">
      <button nz-button nzType="default" (click)="onCancel()">Cancelar</button>
      <button
        nz-button
        nzType="primary"
        [nzLoading]="isSubmitting"
        [disabled]="isLoadingSaldo"
        (click)="onSubmit()"
      >
        Aprobar
      </button>
    </div>
  </ng-container>
</nz-modal>
